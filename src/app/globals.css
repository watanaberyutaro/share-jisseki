@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  25% { transform: translateY(-10px) rotate(1deg); }
  50% { transform: translateY(-5px) rotate(-1deg); }
  75% { transform: translateY(-15px) rotate(0.5deg); }
}

@keyframes floatDots1 {
  0%, 100% { background-position: 0 0, 10px 10px, 20px 20px; }
  25% { background-position: 2px -3px, 12px 7px, 22px 17px; }
  50% { background-position: -1px -6px, 9px 4px, 19px 14px; }
  75% { background-position: 3px -2px, 13px 8px, 23px 18px; }
}

@keyframes floatDots2 {
  0%, 100% { background-position: 0 0, 10px 10px, 20px 20px; }
  30% { background-position: -2px 4px, 8px 14px, 18px 24px; }
  60% { background-position: 1px -2px, 11px 8px, 21px 18px; }
  90% { background-position: -1px 3px, 9px 13px, 19px 23px; }
}

@keyframes floatDots3 {
  0%, 100% { background-position: 0 0, 10px 10px, 20px 20px; }
  20% { background-position: 3px 2px, 13px 12px, 23px 22px; }
  40% { background-position: -2px -4px, 8px 6px, 18px 16px; }
  80% { background-position: 1px 5px, 11px 15px, 21px 25px; }
}

@keyframes cursor-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

/* Import Happy Hues Theme */
@import url('../styles/theme.css');

/* Custom smartphone cursor */
body {
  cursor: url('/smartphone-cursor.svg') 12 12, auto;
}

/* Keep default cursor for interactive elements */
a, button, input, textarea, select, [role="button"], .cursor-pointer {
  cursor: pointer !important;
}

input[type="text"], input[type="email"], input[type="password"], textarea {
  cursor: text !important;
}

@layer base {
  :root {
    /* Unified Color System - 指定された色のみ使用 */
    --background: 0 0% 100%; /* #FFFFFF */
    --foreground: 234 91% 30%; /* #1A237E */
    --border: 234 91% 30% / 0.1; /* #1A237E with transparency */
    --muted: 197 17% 98%; /* #F7F9FA */
    --muted-foreground: 234 91% 30%; /* #1A237E */
    --accent: 234 91% 30%; /* #1A237E */
    --accent-foreground: 234 91% 30%; /* #1A237E */
    --destructive: 0 84% 60%; /* #ef4444 */
    --destructive-foreground: 0 0% 100%;
    --ring: 234 91% 30%; /* #1A237E */

    /* Brand colors */
    --primary: 234 91% 30%; /* #1A237E */
    --primary-foreground: 234 91% 30%; /* #1A237E */

    --secondary: 197 17% 98%; /* #F7F9FA */
    --secondary-foreground: 234 91% 30%; /* #1A237E */

    /* Status colors */
    --success: 42 85% 55%; /* #F1AD26 */
    --success-foreground: 0 0% 100%;

    --warning: 42 85% 55%; /* #F1AD26 */
    --warning-foreground: 0 0% 100%;

    --info: 197 17% 98%; /* #F7F9FA */
    --info-foreground: 0 0% 100%;

    --error: 0 84% 60%; /* #ef4444 */
    --error-foreground: 0 0% 100%;

    /* Card and surface colors */
    --card: 0 0% 100%; /* #FFFFFF */
    --card-foreground: 234 91% 30%; /* #1A237E */

    --popover: 0 0% 100%; /* #FFFFFF */
    --popover-foreground: 234 91% 30%; /* #1A237E */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground font-sans antialiased;
    min-height: 100vh;
    overflow-x: hidden;
  }

  html {
    overflow-x: hidden;
  }

  /* Ensure proper layout behavior */
  main {
    min-height: calc(100vh - 80px); /* Adjust based on header height */
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Responsive container adjustments */
  @media (max-width: 768px) {
    .glass {
      margin: 0;
    }

    /* 実績入力フォーム用のスマホ対応 */
    .performance-form-mobile .glass {
      padding: 0.75rem;
      font-size: 0.875rem;
    }

    .performance-form-mobile input,
    .performance-form-mobile select,
    .performance-form-mobile textarea {
      font-size: 0.75rem;
      padding: 0.375rem 0.5rem;
    }

    .performance-form-mobile .grid {
      gap: 0.5rem;
    }

    .performance-form-mobile h3 {
      font-size: 1rem;
    }

    .performance-form-mobile label {
      font-size: 0.75rem;
    }

    /* スタッフヘッダー内のボタンとコントロールのモバイル対応 */
    .performance-form-mobile button {
      padding: 0.5rem;
      font-size: 0.75rem;
    }

    .performance-form-mobile select {
      min-width: 0;
      flex: 1;
    }

    /* 日数展開/折りたたみボタン */
    .performance-form-mobile .flex.items-center.gap-2 {
      gap: 0.25rem;
    }

    /* ボタンテキストを小さく */
    .performance-form-mobile button span {
      font-size: 0.65rem;
    }

    /* 分析ページ（ダッシュボード）用のスマホ対応 */
    .dashboard-mobile .glass {
      padding: 0.75rem;
    }

    .dashboard-mobile h2 {
      font-size: 0.7rem !important;
      line-height: 1.3;
    }

    .dashboard-mobile h3 {
      font-size: 0.75rem;
    }

    /* グリッドのgapを縮小 */
    .dashboard-mobile .grid {
      gap: 0.75rem;
    }

    /* 統計カードのパディングと表示を調整 */
    .dashboard-mobile .text-center.p-3 {
      padding: 0.5rem;
      min-height: 4rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    /* フォントサイズの調整 */
    .dashboard-mobile .text-2xl {
      font-size: 1.25rem;
      line-height: 1.2;
    }

    .dashboard-mobile .text-3xl {
      font-size: 1.5rem;
      line-height: 1.2;
    }

    /* 統計カード内のテキストを横表示に */
    .dashboard-mobile .text-xs br,
    .dashboard-mobile .text-sm br {
      display: none;
    }

    .dashboard-mobile .text-xs,
    .dashboard-mobile .text-sm {
      white-space: nowrap;
      font-size: 0.7rem;
    }

    /* チャートの高さ調整 */
    .dashboard-mobile .h-48 {
      height: 10rem;
    }

    .dashboard-mobile .h-64 {
      height: 12rem;
    }

    /* テーブルのフォントサイズ */
    .dashboard-mobile table {
      font-size: 0.75rem;
    }

    .dashboard-mobile th,
    .dashboard-mobile td {
      padding: 0.375rem 0.5rem;
    }

    /* メモ欄のフォントサイズ */
    .dashboard-mobile textarea {
      font-size: 0.75rem;
      padding: 0.5rem;
    }
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-muted;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/30 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/50;
  }
}

@layer components {
  /* Enhanced glass effect with better shadows */
  .glass {
    backdrop-filter: blur(16px) saturate(180%);
    background-color: rgba(255, 255, 254, 0.85);
    border: 1px solid hsl(var(--border));
    box-shadow: 
      0 8px 32px rgba(212, 240, 237, 0.1),
      0 2px 8px rgba(33, 25, 46, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.5);
  }

  /* Elegant shadow variations */
  .shadow-elegant {
    box-shadow: 
      0 4px 16px rgba(33, 25, 46, 0.1),
      0 2px 4px rgba(33, 25, 46, 0.06);
  }

  .shadow-elegant-lg {
    box-shadow: 
      0 12px 32px rgba(33, 25, 46, 0.15),
      0 4px 12px rgba(33, 25, 46, 0.1),
      0 2px 4px rgba(33, 25, 46, 0.06);
  }

  .shadow-elegant-xl {
    box-shadow: 
      0 20px 48px rgba(33, 25, 46, 0.2),
      0 8px 24px rgba(33, 25, 46, 0.12),
      0 4px 8px rgba(33, 25, 46, 0.08);
  }

  /* Animated gradient backgrounds with new color scheme */
  .bg-gradient-primary {
    background: linear-gradient(135deg, 
      hsl(var(--primary-light)) 0%, 
      hsl(var(--primary)) 50%, 
      hsl(var(--primary-dark)) 100%);
  }

  .bg-gradient-success {
    background: linear-gradient(135deg, 
      hsl(var(--success-light)) 0%, 
      hsl(var(--success)) 100%);
  }

  .bg-gradient-info {
    background: linear-gradient(135deg, 
      hsl(var(--info-light)) 0%, 
      hsl(var(--info)) 100%);
  }

  .bg-gradient-surface {
    background: linear-gradient(135deg, 
      hsl(var(--gradient-start)) 0%, 
      hsl(var(--gradient-end)) 100%);
  }

  /* New gradient with bg-300 */
  .bg-gradient-warm {
    background: linear-gradient(135deg,
      hsl(var(--gradient-end)) 0%,
      hsl(var(--gradient-end)) 100%);
  }

  /* Hover effects */
  .hover-lift {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 
      0 16px 40px rgba(33, 25, 46, 0.15),
      0 6px 16px rgba(33, 25, 46, 0.1);
  }

  /* Scale animation for cards */
  .scale-in {
    animation: scale-in 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    opacity: 0;
    transform: scale(0.95);
  }

  @keyframes scale-in {
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Button enhancements */
  .btn-primary {
    @apply bg-primary text-primary-foreground font-medium px-6 py-3 rounded-xl;
    @apply hover:bg-primary/90 active:scale-95 transition-all duration-200;
    @apply shadow-elegant hover:shadow-elegant-lg;
    background: linear-gradient(135deg, 
      hsl(var(--primary)) 0%, 
      hsl(var(--primary-dark)) 100%);
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground font-medium px-6 py-3 rounded-xl;
    @apply hover:bg-secondary/80 active:scale-95 transition-all duration-200;
    @apply shadow-elegant hover:shadow-elegant-lg border border-border;
  }
  
  .dark .glass {
    background-color: rgba(17, 25, 40, 0.75);
    border: 1px solid rgba(255, 255, 255, 0.125);
  }
  
  /* Gradient backgrounds */
  .gradient-bg {
    background: linear-gradient(135deg, 
      hsl(var(--primary)) 0%, 
      hsl(var(--primary) / 0.8) 100%);
  }
  
  .gradient-bg-secondary {
    background: linear-gradient(135deg, 
      hsl(var(--secondary)) 0%, 
      hsl(var(--muted)) 100%);
  }
  
  /* Enhanced shadows */
  .shadow-elegant {
    box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1), 
                0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
  
  .shadow-elegant-lg {
    box-shadow: 0 20px 50px -12px rgba(0, 0, 0, 0.15), 
                0 8px 16px -4px rgba(0, 0, 0, 0.1);
  }
  
  /* Animation classes */
  .fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }

  .slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .scale-in {
    animation: scaleIn 0.2s ease-out;
  }

  .animate-fadeIn {
    animation: fadeIn 0.3s ease-in-out;
  }

  .animate-slideUp {
    animation: slideUp 0.4s ease-out;
    animation-fill-mode: both;
  }

  .animate-loading-bar {
    animation: loading-bar 2s ease-in-out infinite;
  }

  .animate-loading-wave {
    animation: loading-wave 1.5s ease-in-out infinite;
  }

  .animate-scan-line {
    animation: scan-line 2s linear infinite;
  }

  .animate-digital-pulse {
    animation: digital-pulse 1.5s ease-in-out infinite;
  }

  .animate-corner-fade {
    animation: corner-fade 2s ease-in-out infinite;
  }
}

@keyframes loading-bar {
  0% {
    transform: translateX(-100%);
  }
  50% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes loading-wave {
  0%, 100% {
    transform: scale(1);
    opacity: 0.3;
  }
  50% {
    transform: scale(1.2);
    opacity: 1;
  }
}

@keyframes scan-line {
  0% {
    opacity: 0;
    stroke-dasharray: 0 50;
  }
  50% {
    opacity: 0.8;
    stroke-dasharray: 50 0;
  }
  100% {
    opacity: 0;
    stroke-dasharray: 0 50;
  }
}

@keyframes digital-pulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.5;
  }
}

@keyframes corner-fade {
  0%, 100% {
    opacity: 0.2;
  }
  50% {
    opacity: 1;
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { 
    opacity: 0; 
    transform: translateY(20px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes scaleIn {
  from { 
    opacity: 0; 
    transform: scale(0.95); 
  }
  to { 
    opacity: 1; 
    transform: scale(1); 
  }
}

/* Success page animations */
@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes reverse-spin {
  from { transform: rotate(360deg); }
  to { transform: rotate(0deg); }
}

@keyframes float-0 {
  0%, 100% { transform: translateY(0px) translateX(0px); opacity: 0.4; }
  25% { transform: translateY(-20px) translateX(10px); opacity: 0.8; }
  50% { transform: translateY(-10px) translateX(-5px); opacity: 1; }
  75% { transform: translateY(-25px) translateX(15px); opacity: 0.6; }
}

@keyframes float-1 {
  0%, 100% { transform: translateY(0px) translateX(0px); opacity: 0.3; }
  33% { transform: translateY(-15px) translateX(-10px); opacity: 0.7; }
  66% { transform: translateY(-30px) translateX(8px); opacity: 1; }
}

@keyframes float-2 {
  0%, 100% { transform: translateY(0px) translateX(0px); opacity: 0.5; }
  40% { transform: translateY(-18px) translateX(12px); opacity: 0.9; }
  80% { transform: translateY(-8px) translateX(-8px); opacity: 0.4; }
}

.animate-spin-slow {
  animation: spin-slow 3s linear infinite;
}

.animate-reverse-spin {
  animation: reverse-spin 2s linear infinite;
}

.animate-float-0 {
  animation: float-0 4s ease-in-out infinite;
}

.animate-float-1 {
  animation: float-1 3.5s ease-in-out infinite;
}

.animate-float-2 {
  animation: float-2 4.5s ease-in-out infinite;
}

/* Color Flow Animation */
@keyframes color-flow {
  0% {
    opacity: 0.2;
    transform: scale(0.8);
  }
  50% {
    opacity: 1;
    transform: scale(1.1);
  }
  100% {
    opacity: 0.2;
    transform: scale(0.8);
  }
}

.animate-color-flow {
  animation: color-flow 1.2s ease-in-out infinite;
}

.animate-cursor-blink {
  animation: cursor-blink 0.8s ease-in-out infinite;
}

/* Animation delay utilities */
.animation-delay-0 { animation-delay: 0ms; }
.animation-delay-500 { animation-delay: 500ms; }
.animation-delay-1000 { animation-delay: 1000ms; }
.animation-delay-1500 { animation-delay: 1500ms; }
.animation-delay-2000 { animation-delay: 2000ms; }

/* Slide in animation from right */
@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(100px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-out forwards;
}

/* PDF用の背景とスペーシング */
.pdf-content {
  background-color: transparent;
  padding: 20px;
}

.pdf-content > * + * {
  margin-top: 40px;
}